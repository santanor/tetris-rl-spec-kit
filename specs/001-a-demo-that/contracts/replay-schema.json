{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TetrisEpisodeReplay",
  "type": "object",
  "required": ["session_id", "episode_index", "frames", "config_hash"],
  "properties": {
    "session_id": {"type": "string"},
    "episode_index": {"type": "integer", "minimum": 0},
    "config_hash": {"type": "string"},
    "notable_flags": {"type": "array", "items": {"type": "string"}},
    "frames": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["step_index", "action", "reward", "holes", "max_height"],
        "properties": {
          "step_index": {"type": "integer", "minimum": 0},
          "action": {"type": "integer"},
          "action_label": {"type": "string"},
            "reward": {"type": "number"},
            "holes": {"type": "integer", "minimum": 0},
            "max_height": {"type": "integer", "minimum": 0},
            "lines_cleared_delta": {"type": "integer", "minimum": 0},
            "keyframe": {"type": "boolean"}
        }
      }
    }
  }
}
